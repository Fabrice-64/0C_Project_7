<!DOCTYPE html>
<html>
    <head>
      <script type=text/javascript>
        $SCRIPT_ROOT = {{ request.script_root|tojson|safe }};
      </script>
      <script src="{{ url_for('static', filename='jquery-3.5.1.min.js') }}"></script>
      <script src="{{ url_for('static', filename='scripts/bootstrap.min.js') }}"></script>
      <link rel="stylesheet" href="{{ url_for('static', filename='styles/bootstrap.min.css') }}">
      <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <title>ChatBot de Papounet</title>
    <script type=text/javascript>
      $SCRIPT_ROOT = {{ request.script_root|tojson|safe }};
  </script>
  <script type="text/javascript">
    $(function() {
      $("#validate").bind('click', function(){
        $.getJSON($SCRIPT_ROOT + '/process_question', {
        question: $('input[name="question"]').val()
        }, function(data){
          var request = $("#question").val();
          $("#dialogue_flow").append('<p class="col-4 float-left">' + request + '</p>\
          <p class="col-4">' + data.wikipedia_response +'</p><p class="col-4"><img src='+ data.google_map +' width="100%" height="100%"></p>');
        });
      
      


    });
    });
  </script>

        <style>
          navigation_bar {
            background-color: lightblue;
            width: 90%;
            margin-left: 5%;
          }
          body {
            transform: rotate(0);
            background-color: blue;
          
          }
          #page-container {
            position: relative;
            min-height: 100vh;
          }
          
          dialogue {
            display: inline-block;
            transform:rotate(0);
            overflow-y: scroll;
            position: relative;
            border: solid;
            border-color: lavender;
            display: block;
            width: 90%;
            height: 70vh;
            margin-left: 5%;
            background-color: blanchedalmond;
          }
          response {
            display: inline-block;
            width: 100%;
            height: 70vh;
            background-color: coral;
          }

          question_field {
            background-color: red;
            height: 20px;
            position: absolute;
            bottom: 20%;
            margin-left: 10%;
          }
          p {
            padding: 1em;
            border: solid;
            border-color: darkblue;
            vertical-align: top;
            position: absolute;
            overflow-y: scroll;
            width: 100%;
            height: auto;
            background-color: chartreuse;
            margin: 0%;
            font-size: small;
          }

          .page-footer {
            background-color: lightblue;
            width: 100vh;
            margin-left: 10%;
            position: absolute;
            bottom: 10%;
            height: 30px;
          }
          
        </style>
    </head>
    <navigation_bar class="navbar">
      <a class="navbar-brand" href="#">
          <img src="{{ url_for('static', filename='face_co.png') }}" width="30" height="30" class="d-inline-block align-top" alt=picture">
           Bienvenue sur le ChatBot de Papounet !
      </a>
    </navigation_bar>


    <body> Body
      <div id="page-container">
      <dialogue>
        <response>Response
        <div class="container">
          <div class="row">
            <div class="row align-items-start" id="dialogue_flow"></div>
             

            </div>  
          </div>
        </div>
        </response>
     
      </dialogue>
      <question_field>
        <div class="container">
          <div class="row">
            <input type=text name=question id=question size=60 maxlength="140" placeholder="Pose ta question ici ! Et sois concis, d'accord ?" autofocus;>
            <a href=# id=validate class="btn btn-success">Validation</a>
          </div>  
        </div>
      </question_field>
      <div class="container d-none d-sm-none d-md-block">
        <footer class="page-footer">
          <div class="row justify-content-between">
              <div class="col-4"> Fabrice JaouÃ«n</div>
                <div class="col-4 offset-4">
                  <a href="https://github.com/Fabrice-64/OC_Project_7"> Lien vers GitHub</a>
                </div>
          </div>
        </footer>
      </div>
    
    </div>
  </body>
    </html>
